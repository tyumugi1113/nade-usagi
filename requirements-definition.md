# うさぎを撫でろ！

これから開発するゲームの概要を記載する。
ゲームのタイトルは「うさぎを撫でろ！」である。

## ゲーム概要

「うさぎを撫でろ！」は、PyGameで開発されるPC向けゲームです。プレイヤーはうさぎに気づかれないように近づき、撫でることを目指します。だるまさんがころんだの要素を取り入れつつ、うさぎの機嫌度に注意しながら、クリアを目指すゲームです。

## ターゲットプラットフォーム

PC（Windows/Mac/Linux）
開発環境：PyGame

## グラフィック・サウンド

グラフィック: PyGameで表現可能な範囲でのグラフィックを使用します。テイストについては今後の議論で決定します。
サウンド: PyGameで表現可能な範囲でのサウンド（BGM、効果音）を使用します。

## ゲームサイクル

タイトル画面：ゲーム開始、オプション、終了などの選択肢を表示。
ゲーム開始：メインゲームプレイ開始。
プレイ画面：プレイヤーがうさぎに近づく操作を行う。うさぎの挙動を監視し、機嫌度を管理。
クリア/ゲームオーバー：
クリア: うさぎを撫でることに成功した場合。
ゲームオーバー: うさぎに気づかれ、機嫌度が0になった場合。
結果表示：クリアまたはゲームオーバーの結果を表示。
タイトル画面に戻る：次のプレイのためにタイトル画面へ遷移。

## プレイヤー操作

入力デバイス: マウス
操作内容:
左クリック: うさぎへ向かって移動する操作。
右クリック: 移動を停止する操作。
うさぎが振り返っている間は、プレイヤーは左クリックでの移動を停止する必要があります。停止しない場合、うさぎの機嫌度が減少します。

## うさぎの挙動

発見条件:
視覚: うさぎの視界（視野角や範囲）にプレイヤーが入ると、プレイヤーを発見します。
聴覚: プレイヤーの移動操作に伴う音（例: 一定距離以上近づいた場合の足音など）をうさぎが感知すると、プレイヤーを発見します。
機嫌度: うさぎには「機嫌度」が設定されており、プレイヤーが発見されるたびに減少します。機嫌度が0になるとゲームオーバーとなります。
振り返り: うさぎはランダムまたは一定のパターンで振り返り、プレイヤーの動きを確認します。振り返っている間は、プレイヤーは停止しなければなりません。

## 勝利・敗北条件

勝利条件:
うさぎに一定の距離まで近づき、かつ特定の条件（例: うさぎが前を向いている状態）を満たした上で、所定の操作（例: マウス左クリック）を行うことで、うさぎを撫でることができたと判定し、ゲームクリアとなります。
敗北条件:
うさぎに発見され、機嫌度が0になった場合、ゲームオーバーとなります。

## ステージ構成・レベルデザイン

初期段階では、1つのシンプルなステージのみを実装します。
このステージで基本的なゲームメカニクスとプレイヤーの体験を検証します。

## その他

まずは最低限の機能（MVP: Minimum Viable Product）の実装を目指します。
具体的なグラフィックやサウンドのアセット、うさぎの機嫌度や移動速度などの詳細な数値設定は、開発を進めながら調整します。

## WSL環境での実行方法

WSL環境で実行する場合、日本語フォントの問題が発生することがあります。以下の手順で解決できます：

1. 日本語フォントをインストールする
```bash
sudo apt-get update
sudo apt-get install -y fonts-ipafont fonts-noto-cjk
```

2. 環境変数を設定する（X11転送を使用する場合）
```bash
export DISPLAY=:0
```

3. ゲームを実行する
```bash
python3 run.py
```